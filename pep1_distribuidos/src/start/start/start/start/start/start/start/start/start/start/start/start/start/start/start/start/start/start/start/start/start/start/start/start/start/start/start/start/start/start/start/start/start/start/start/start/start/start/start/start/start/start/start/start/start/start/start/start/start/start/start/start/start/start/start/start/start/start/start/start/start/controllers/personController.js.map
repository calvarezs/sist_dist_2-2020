{"version":3,"sources":["../../controllers/personController.js"],"names":["express","require","router","Router","Person","post","req","res","firstname","email","rut","adress","body","person","create","status","json","ok","message","err","console","log","send","get","findAll","data","id","params","findOne","_id","module","exports"],"mappings":"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","sourcesContent":["const express = require('express');\nconst router = express.Router();\nconst Person = require('../models/Person');\n\n\n\n\nrouter.post('/add', async(req, res) => {\n    const {\n        firstname,\n        email,\n        rut,\n        adress\n    } = req.body;\n    try{\n        let person = await Person.create({firstname, email, rut, adress})\n        if (person) {\n            return res.status(200).json({\n            ok: true,\n             message: `Persona con rut: ${person.rut} agregada`,\n            person: person\n            })  \n        }\n    }\n    catch(err){\n        console.log(err);\n        res.status(400).send(\"Error en agregar persona\");\n    }\n});\n\n\nrouter.get('/getall',async (req, res) => { \n    try{\n        let person = await Person.findAll();\n        if(person){\n            res.json({\n                data: person\n            });\n        }\n    }\n    catch(err){\n        console.log(err);\n        res.status(500).json({\n            message:\"It couldn't get any person\"\n    })\n    }\n  });\n\nrouter.get('/',async (req, res) => { \ntry{\n    let person = await Person.findAll();\n    if(person){\n        res.json({\n            data: person\n        });\n    }\n}\ncatch(err){\n    console.log(err);\n    res.status(500).json({\n        message:\"Algo salio mal\"\n})\n}\n});\n\n\nrouter.get('/get/:id',async (req, res) => { \n    var id = req.params.id;\n    try{\n        const person = await Person.findOne({_id: id});\n        return res.json(person);\n    }\n    catch(err){\n        res.status(500).json({\n            message:\"It couldn't get the person\"\n        })\n    }\n});\n\nmodule.exports = router;"],"file":"personController.js"}